<div class="container" ng-controller="Q5Ctrl">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Q5. CODING Algorithm Â­ summarize data in 3 levels 
               
            </h1>
            <h1> <small>Summarize amount by type and frequency within type. Also provide a grand 
total.</small></h1>
            <div ng-include='"partials/bcrum.html"'></div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="l1"> $scope.total = "Total : " + bookSubs.map(function(item) {</div>
            <div class="l2"> return item.amount;</div>
            <div class="l2"> }).reduce(function(prev, curr) {</div>
            <div class="l3"> return parseInt(prev) + parseInt(curr);</div>
            <div class="l2"> });</div>
            <div class="l2"> console.log($scope.total);</div>
            <div class="l2"> var sum = 0;</div>
            <div class="l2"> var objByTypeFreq = bookSubs.reduce(function(result, item, b, bookSubs) {</div>
            <div class="l3"> if (!result[item.type + "_" + item.frequency]) {</div>
            <div class="l3"> var sumAmt = bookSubs.filter(function(exist) {</div>
            <div class="l3"> return (item.type === exist.type && item.frequency === exist.frequency)</div>
            <div class="l3"> }).reduce(function(a, b) {</div>
            <div class="l3"> return a + parseInt(b.amount);</div>
            <div class="l2"> }, 0);</div>
            <div class="l2"> result[item.type + "_" + item.frequency] = sumAmt;</div>
            <div class="l2"> }</div>
            <div class="l2"> return result;</div>
            <div class="l1"> }, {})</div>
            <div class="l1"> $scope.totByTypeNFreq = "Total by type and frequency : " + JSON.stringify(objByTypeFreq);</div>
            <div class="l1">console.log($scope.totByTypeNFreq);</div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <button type="button" class="btn btn-success" ng-click="getSummary()">
                Get Summary
            </button>
            <h4>{{totByTypeNFreq}}</h4>
            <h4>{{total}}</h4>
        </div>
    </div>
</div>
